<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>CSS中的BFC | 千承的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1. 了解BFC之前在了解什么是BFC之前，需要我们首先了解什么是Box、Formatting Context的概念。
1.1 Box: CSS布局的基本单位在css布局中，我们最常见的布局方式就是盒子模型了。Box是CSS布局中的对象和基本单位，直观来说，就是一个页面是由很多的Box组成的。元素的类型和display属性决定了这个Box的类型。不同类型的Box会参与不同的Formatting C">
<meta property="og:type" content="article">
<meta property="og:title" content="CSS中的BFC">
<meta property="og:url" content="http://yoursite.com/2015/03/27/cssbfc/index.html">
<meta property="og:site_name" content="千承的博客">
<meta property="og:description" content="1. 了解BFC之前在了解什么是BFC之前，需要我们首先了解什么是Box、Formatting Context的概念。
1.1 Box: CSS布局的基本单位在css布局中，我们最常见的布局方式就是盒子模型了。Box是CSS布局中的对象和基本单位，直观来说，就是一个页面是由很多的Box组成的。元素的类型和display属性决定了这个Box的类型。不同类型的Box会参与不同的Formatting C">
<meta property="og:updated_time" content="2015-08-02T13:39:29.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CSS中的BFC">
<meta name="twitter:description" content="1. 了解BFC之前在了解什么是BFC之前，需要我们首先了解什么是Box、Formatting Context的概念。
1.1 Box: CSS布局的基本单位在css布局中，我们最常见的布局方式就是盒子模型了。Box是CSS布局中的对象和基本单位，直观来说，就是一个页面是由很多的Box组成的。元素的类型和display属性决定了这个Box的类型。不同类型的Box会参与不同的Formatting C">
  
    <link rel="alternative" href="/atom.xml" title="千承的博客" type="application/atom+xml">
  
    <link rel="icon" href="source/img/coderwall.png">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/portrait.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Alex Bai</a></h1>
		</hgroup>

		
		<p class="header-subtitle">快乐学习，快乐生活</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/aboutme">关于</a></li>
				        
						</ul>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/CSS/" style="font-size: 20px;">CSS</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/其他/" style="font-size: 10px;">其他</a> <a href="/tags/闲谈/" style="font-size: 10px;">闲谈</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://bbs.byr.cn">北邮人论坛</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.html-js.com/">前端乱炖</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.w3cplus.com/">w3cplus</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">前端攻城狮一枚，爱好篮球足球，喜欢各种新奇玩意......</div>
				</section>
				
			</div>
		</div>

					
	</header>				
</div>
<nav class="contact-nav">
	<div class="social">
		
			<a class="github" target="_blank" href="https://github.com/AlexBai1991" title="github">github</a>
        
			<a class="weibo" target="_blank" href="http://weibo.com/2465055362/profile?topnav=1&wvr=6" title="weibo">weibo</a>
        
			<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
        
			<a class="mail" target="_blank" href="/alexbai1991@gmail.com" title="mail">mail</a>
        
	</div>
</nav>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Alex Bai</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/portrait.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Alex Bai</h1>
			</hgroup>
			
			<p class="header-subtitle">快乐学习，快乐生活</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/aboutme">关于</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/AlexBai1991" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/2465055362/profile?topnav=1&wvr=6" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="/alexbai1991@gmail.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-cssbfc" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/27/cssbfc/" class="article-date">
  	<time datetime="2015-03-27T02:36:04.000Z" itemprop="datePublished">2015-03-27 10:36</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      CSS中的BFC
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSS/">CSS</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry " itemprop="articleBody">
      
        <h1 id="1-_了解BFC之前">1. 了解BFC之前</h1><p>在了解什么是BFC之前，需要我们首先了解什么是Box、Formatting Context的概念。</p>
<h3 id="1-1_Box:_CSS布局的基本单位">1.1 Box: CSS布局的基本单位</h3><p>在css布局中，我们最常见的布局方式就是盒子模型了。Box是CSS布局中的对象和基本单位，直观来说，就是一个页面是由很多的Box组成的。元素的类型和display属性决定了这个Box的类型。不同类型的Box会参与不同的Formatting Context，相应的Box内的元素也会以不同的方式渲染。</p>
<p>盒子模型(Box Model)如果按照浏览器的实现方式进行划分的话，分为IE盒子模型和标准盒子模型两大类。</p>
<p>其中IE盒子模型中的width和height包括border、padding和content部分，而标准盒子模型中的width和height则只是指content部分。</p>
<p>Box的种类: </p>
<ol>
<li>block-level box：display属性为block、list-item和table的元素</li>
<li>inline-level box：display属性为inline、inline-block、inline-table的元素</li>
<li>run-in box：CSS3中定义的</li>
<li>flexibel-box：弹性盒子模型</li>
</ol>
<h3 id="1-2_Formatting_Context:_格式化上下文">1.2 Formatting Context: 格式化上下文</h3><p>Formatting Context 是 <a href="http://www.w3.org/TR/CSS21/visuren.html#block-formatting" target="_blank" rel="external">W3C CSS2.1</a> 规范中的一个概念。它指代的是页面中的一个渲染区域，并且拥有自己的一套渲染规范，它决定了其子元素如何定位以及与其他元素之间的相互作用关系。</p>
<p>最常见的Formatting Context有Block Formatting Context (BFC)和Inline Formatting Context (IFC)。CSS 2.1 中只有  <code>BFC</code> 和 <code>IFC</code>，CSS 3 中增加了 <code>GFC</code> 和 <code>FFC</code>。</p>
<h1 id="2-_什么是BFC">2. 什么是BFC</h1><h3 id="2-1_BFC定义">2.1 BFC定义</h3><p>BFC直译为块级格式化上下文。它是一个独立的渲染区域，只有Block-level box参与，它规定了内部Block-level box如何布局，并且这个区域与外部毫不相干。</p>
<p>W3C规范中对<a href="http://www.w3.org/TR/CSS21/visuren.html#block-formatting" target="_blank" rel="external">BFC</a>的定义是这样的：</p>
<blockquote>
<p>Floats, absolutely positioned elements, block containers (such as inline-blocks, table-cells, and table-captions) that are not block boxes, and block boxes with ‘overflow’ other than ‘visible’ (except when that value has been propagated to the viewport) establish new block formatting contexts for their contents.<br>&nbsp;<br>In a block formatting context, boxes are laid out one after the other, vertically, beginning at the top of a containing block. The vertical distance between two sibling boxes is determined by the ‘margin’ properties. Vertical margins between adjacent block-level boxes in a block formatting context collapse.<br>&nbsp;<br>In a block formatting context, each box’s left outer edge touches the left edge of the containing block (for right-to-left formatting, right edges touch). This is true even in the presence of floats (although a box’s line boxes may shrink due to the floats), unless the box establishes a new block formatting context (in which case the box itself may become narrower due to the floats).</p>
</blockquote>
<h3 id="2-2_BFC的布局规则">2.2 BFC的布局规则</h3><p>浏览器对于 BFC 这块区域的布局规则规定如下：</p>
<ol>
<li><p>生成 BFC 元素的子元素会一个接一个的放置。垂直方向上它们的起点是一个包含块的顶部，两个相邻子元素之间的垂直距离取决于元素的 margin 特性。在 BFC 中相邻的块级元素外边距会折叠。</p>
</li>
<li><p>生成 BFC 元素的子元素中，每一个子元素的左外边距与包含块的左边界相接触，（对于从右到左的格式化，右外边距接触右边界），即使是浮动元素也是如此（尽管子元素的内容区域会由于浮动而压缩），除非这个子元素也创建了一个 BFC （如它自身也是一个浮动元素）。</p>
</li>
</ol>
<p>更详细的布局规则如下：</p>
<ol>
<li><p>内部的 Box 会在垂直方向上一个接一个的放置。</p>
</li>
<li><p>垂直方向上的距离由 margin 决定，（完整的说法是：属于同一个 BFC 的两个相邻 Box 的 margin 会发生重叠，与方向无关。）</p>
</li>
<li><p>每个元素的左外边距与包含块的左边界相接触（从左向右），即使浮动元素也是如此。（这说明BFC中子元素不会超出它的包含块，而position为absolute的元素可以超出它的包含块）</p>
</li>
<li><p>BFC的区域不会与float的元素区域重叠。</p>
</li>
<li><p>计算BFC的高度时，浮动子元素也参与计算。</p>
</li>
<li><p>BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面元素，反之亦然。</p>
</li>
</ol>
<h3 id="2-3_BFC的三大特性">2.3 BFC的三大特性</h3><ol>
<li><p>阻止垂直外边距折叠（Margin Collapse）【创建了BFC的元素不会与它们的子元素发生外边距折叠。】</p>
</li>
<li><p>不会重叠浮动元素【与浮动元素相邻的、创建了BFC的元素，都不能与浮动元素相互覆盖。利用该特性，可以实现两栏布局。】</p>
</li>
<li><p>可以包含浮动【创建了BFC的元素，其子元素也会参与高度的计算，即不会发生高度塌陷。】</p>
</li>
</ol>
<h3 id="2-4_BFC的生成">2.4 BFC的生成</h3><ol>
<li><p>根元素</p>
</li>
<li><p>float 的值不为 none</p>
</li>
<li><p>overflow 的值不为 visible</p>
</li>
<li><p>display 的值为 inline-block、table-cell、table-caption</p>
</li>
<li><p>position 的值为 absolute、fixed</p>
</li>
</ol>
<h1 id="参考文献：">参考文献：</h1><p><a href="http://www.cnblogs.com/dojo-lzz/p/3999013.html" target="_blank" rel="external">我对BFC的理解</a></p>
<p><a href="http://www.cnblogs.com/lhb25/p/inside-block-formatting-ontext.html" target="_blank" rel="external">BFC背后的原理</a></p>
<p><a href="http://www.cnblogs.com/winter-cn/archive/2013/05/11/3072926.html" target="_blank" rel="external">谈谈面试与面试题</a></p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/04/02/csstwocolumn/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          CSS中的两栏等高布局
        
      </div>
    </a>
  
  
    <a href="/2015/03/01/javascript-deepclone/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Javascript中的深拷贝</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 Alex Bai
    	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>